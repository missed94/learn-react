{"version":3,"sources":["api/api.js","components/common/Pagination/Pagination.module.scss","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Navigation/Navigation.jsx","components/Friends/FriendsItem/FriendsItem.jsx","components/Friends/Friends.jsx","components/Sidebar/Sidebar.jsx","components/Users/User/User.jsx","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","utils/helpers/helpers.js","redux/reducers/users-reducer.js","redux/selectors/users-selector.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/reducers/app-reducer.js","redux/reducers/sidebar-reducer.js","redux/redux-store.js","components/hoc/withSuspense.js","App.js","index.js","components/common/Preloader/Preloader.jsx","redux/reducers/auth-reducer.js","components/Header/Header.module.scss","redux/reducers/profile-reducer.js","components/Friends/Friends.module.scss","components/Users/Users.module.scss","components/Navigation/Navigation.module.scss","components/common/Preloader/Preloader.module.scss","redux/reducers/dialogs-reducer.js","components/Sidebar/Sidebar.module.scss","components/Friends/FriendsItem/FriendsItem.module.scss","components/common/Preloader/preloader.gif","components/Users/User/User.module.scss"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUnfollowAPI","getFollow","userId","post","getUnfollow","delete","profileAPI","getProfile","id","getStatus","updateStatus","status","put","loginAPI","me","login","email","password","rememberMe","logout","module","exports","News","className","Music","Settings","Navigation","props","classes","navigationComponent","list","item","link","activeClassName","active","to","FriendsItem","friendsItemComponent","href","src","alt","friendName","Friends","friendsArray","state","map","friend","i","key","name","friendsComponent","friendsList","Sidebar","sidebarComponent","friends","User","followingInProgress","user","userComponent","wrapper","avatar","img_wrap","photos","small","followed","disabled","some","button","onClick","desc","nameStatus","fullName","status__text","location__wrap","country","city","Pagination","totalItemsCount","pageChanged","portionSize","pagesCount","Math","ceil","pageNumbers","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginationComponent","pagination","prev__button","pagination__list","filter","pageNumber","pagination__item","pagination__link_active","pagination__link","next__button","Users","usersArray","users","index","toggleFollowingInProgress","usersComponent","users__list","mappingArraysInObject","items","objPropName","actionPropName","newObjProps","initialState","isFetching","follow","type","unfollow","toggleIsFetching","followUnfollowToggle","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","usersPage","getPageSize","getTotalCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","this","Preloader","React","Component","connect","totalCount","bind","Header","headerComponent","login__container","isAuth","photo","loginName","login__link","auth","currentId","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","Login","App","initializeApp","HeaderContainer","path","render","AppContainer","getAuthUserData","withRouter","SamuraiJSApp","getState","ReactDOM","document","getElementById","preloaderComponent","preloaderImg","preloader","setAuthUserData","message","messages","length","stopSubmit","_error","myPosts","likes","profile","addPost","newPost","setUserStatus","removePost","postId","getUserStatus","updateUserStatus","p","dialogs","onSendMessage"],"mappings":"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","file":"static/js/main.53922eed.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"api-key\": \"201d1bd9-901a-4727-afb5-9d1c77d38b75\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n        getUsers(currentPage, pageSize) {\r\n            return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n                .then(response => {\r\n                    return response.data\r\n                });\r\n        }\r\n}\r\n\r\nexport const followUnfollowAPI = {\r\n    getFollow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    getUnfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(id) {\r\n        return instance.get(`profile/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    getStatus(id) {\r\n        return instance.get(`profile/status/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status:status})\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    }\r\n}\r\n\r\nexport const loginAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationComponent\":\"Pagination_paginationComponent__1mjIe\",\"pagination\":\"Pagination_pagination__19QCN\",\"pagination__list\":\"Pagination_pagination__list__2nnpm\",\"pagination__link\":\"Pagination_pagination__link__3SKco\",\"pagination__link_active\":\"Pagination_pagination__link_active__2ikgH\"};","import React from \"react\";\r\nimport classes from \"./News.module.scss\";\r\n\r\n\r\n\r\nconst News = () => {\r\n    return (\r\n        <div className=\"newsComponent\">\r\n            News\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import React from \"react\";\r\nimport classes from \"./Music.module.scss\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className=\"musicComponent\">\r\n            Music\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Music;","import React from \"react\";\r\nimport classes from \"./Settings.module.scss\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport classes from\"./Navigation.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navigation = (props) => {\r\n  return (\r\n    <nav className={classes.navigationComponent}>\r\n      <ul className={classes.list}>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to={`/profile/`}>Profile</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/dialogs\">Messages</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/users\">Users</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/news\">News</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/music\">Music</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/settings\">Settings</NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation","import React from \"react\";\r\nimport classes from\"./FriendsItem.module.scss\"\r\n\r\n\r\n\r\n\r\nconst FriendsItem = (props) => {\r\n    return (\r\n        <li className={classes.friendsItemComponent}>\r\n            <a href=\"\">\r\n                <img src=\"https://lumpics.ru/wp-content/uploads/2017/11/Programmyi-dlya-sozdaniya-avatarok.png\" alt=\"\"/>\r\n                <p>{props.friendName}</p>\r\n            </a>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default FriendsItem","import React from \"react\";\r\nimport classes from\"./Friends.module.scss\"\r\nimport FriendsItem from \"./FriendsItem/FriendsItem\";\r\n\r\n\r\n\r\n\r\nconst Friends = (props) => {\r\n    const friendsArray = props.state.map((friend, i) => {\r\n        return (<FriendsItem key={i} id={friend.id} friendName={friend.name}/>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className={classes.friendsComponent}>\r\n            <h3>Friends</h3>\r\n            <ul className={classes.friendsList}>\r\n                {friendsArray}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Friends","import React from \"react\";\r\nimport classes from\"./Sidebar.module.scss\"\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport Friends from \"../Friends/Friends\";\r\n\r\nconst Sidebar = (props) => {\r\n    return (\r\n        <div className={classes.sidebarComponent}>\r\n            <Navigation/>\r\n            <Friends state={props.state.friends}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Sidebar","import React from \"react\";\r\nimport classes from \"./User.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst User = ({getFollow, getUnfollow, followingInProgress, user, ...props}) => {\r\n\r\n\r\n    let onFollow = () => {\r\n        getFollow(user.id)\r\n    }\r\n    let onUnfollow = () => {\r\n        getUnfollow(user.id)\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <li className={classes.userComponent}>\r\n            <div className={classes.wrapper}>\r\n                <div className={classes.avatar}>\r\n                    <div className={classes.img_wrap}>\r\n\r\n                        <NavLink to={`/profile/${user.id}`}>\r\n                            <img src={user.photos.small !== null\r\n                                ? user.photos.small\r\n                                : \"https://lumpics.ru/wp-content/uploads/2017/11/Programmyi-dlya-sozdaniya-avatarok.png\"}\r\n                                 alt=\"user\"\r\n                            />\r\n                        </NavLink>\r\n\r\n                    </div>\r\n                    {user.followed\r\n                        ? <button\r\n                            disabled={followingInProgress.some(id => id === user.id)} //если хоть одна id из массива равна id пользлвателя при нажатии то ее и disabl'и\r\n                            className={classes.button} onClick={onUnfollow}> unfollow </button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                  className={classes.button} onClick={onFollow}> follow </button>\r\n                    }\r\n\r\n                </div>\r\n                <div className={classes.desc}>\r\n                    <div className={classes.nameStatus}>\r\n                        <h4 className={classes.fullName}>\r\n                            Name: <div>{` ${user.name}`}</div>\r\n                        </h4>\r\n                        <div className={classes.status}>\r\n                            Status: <div className={classes.status__text}>{` ${user.status}`}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.location__wrap}>\r\n                        <div className={classes.country}>\r\n                            Country:{/*{` ${props.user.location.country}`}*/}\r\n                        </div>\r\n                        <div className={classes.city}>\r\n                            City:{/*{` ${props.user.location.city}`}*/}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default User","import React, {useState} from \"react\";\r\nimport classes from \"./Pagination.module.scss\"\r\n\r\n\r\nconst Pagination = ({totalItemsCount, pageSize, pageChanged, currentPage, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pageNumbers = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n    return (\r\n\r\n        <div className={classes.paginationComponent}>\r\n            <div className={classes.pagination}>\r\n                {\r\n                    portionNumber > 1 && <button className={`${classes.button} ${classes.prev__button}`} onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>\r\n                }\r\n\r\n                <ul className={classes.pagination__list}>\r\n                    {pageNumbers\r\n                        .filter(pageNumber => pageNumber >= leftPortionPageNumber && pageNumber <= rightPortionPageNumber)\r\n                        .map((pageNumber) => {\r\n                            return (\r\n                                <li className={classes.pagination__item}>\r\n                                    <a onClick={() => {\r\n                                        pageChanged(pageNumber)\r\n                                    }}\r\n                                       className={\r\n                                           currentPage === pageNumber\r\n                                               ? classes.pagination__link_active\r\n                                               : classes.pagination__link}>\r\n                                        {pageNumber}\r\n                                    </a>\r\n                                </li>\r\n                            )\r\n                        })}\r\n\r\n                </ul>\r\n\r\n                {\r\n                    portionNumber <  portionCount && <button className={`${classes.button} ${classes.next__button}`} onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport User from \"./User/User\";\r\nimport classes from \"./Users.module.scss\"\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\n\r\n\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n    let usersArray = props.users.map((user, index) => {\r\n        return (\r\n            <User\r\n                key={user.id}\r\n                user={user}\r\n                getFollow={props.getFollow}\r\n                getUnfollow={props.getUnfollow}\r\n                toggleFollowingInProgress={props.toggleFollowingInProgress}\r\n                followingInProgress={props.followingInProgress}\r\n            />\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className={classes.usersComponent}>\r\n            <Pagination\r\n                totalItemsCount={props.totalItemsCount}\r\n                pageSize={props.pageSize}\r\n                pageChanged={props.pageChanged}\r\n                currentPage={props.currentPage}\r\n                portionSize={props.portionSize}\r\n            />\r\n            <ul className={classes.users__list}>\r\n                {usersArray}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","export const mappingArraysInObject = (items, objPropName, actionPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === actionPropName) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item\r\n    })\r\n}","import {followUnfollowAPI, usersAPI} from \"../../api/api\";\r\nimport {mappingArraysInObject} from \"../../utils/helpers/helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'FOLLOWING_IN_PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    portionSize: 10,\r\n    pageSize: 30,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: mappingArraysInObject( // смотри helpers.js\r\n                    state.users,\r\n                    'id',\r\n                    action.userId,\r\n                    {followed: true}\r\n                )\r\n            }\r\n        }\r\n\r\n        case\r\n        UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: mappingArraysInObject(\r\n                    state.users,\r\n                    'id',\r\n                    action.userId,\r\n                    {followed: false}\r\n                )\r\n            }\r\n        }\r\n\r\n        case\r\n        SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n\r\n        case\r\n        SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        }\r\n\r\n        case\r\n        SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalItemsCount: action.totalItemsCount\r\n            }\r\n        }\r\n\r\n        case\r\n        TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n\r\n        case\r\n        TOGGLE_IS_FOLLOWING_PROGRESS: { //блокировка кнопки при нажатии follow/unfollow\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching // если isFetching === true\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [state.followingInProgress.filter(id => id !== action.userId)] //filter уже вернет новый массив..добавляем только те id которая не равны id из action'а\r\n            }\r\n        }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const follow = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollow = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber});\r\nexport const setTotalUsersCount = (totalItemsCount) => ({type: SET_TOTAL_USERS_COUNT, totalItemsCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleIsFetching(true));//circle of loading on\r\n        dispatch(setCurrentPage(currentPage))\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(toggleIsFetching(false)); //circle of loading off\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowToggle = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingInProgress(true, userId)) //disabled button\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId)) //enabled button\r\n}\r\n\r\nexport const getFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowToggle(dispatch, userId, followUnfollowAPI.getFollow.bind(followUnfollowAPI), follow)\r\n    }\r\n}\r\n\r\nexport const getUnfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowToggle(dispatch, userId, followUnfollowAPI.getUnfollow.bind(followUnfollowAPI), unfollow)\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalCount = (state) => {\r\n    return state.usersPage.totalItemsCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const getPortionSize = (state) => {\r\n    return state.usersPage.portionSize\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    toggleFollowingInProgress,\r\n     getFollow, getUnfollow, requestUsers\r\n} from \"../../redux/reducers/users-reducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize, getTotalCount, getUsers,\r\n} from \"../../redux/selectors/users-selector\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() { //жизненный цикл, встроенный объект\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n\r\n    pageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching\r\n                    ? <Preloader/>\r\n                    : null}\r\n                <Users\r\n                    totalItemsCount={this.props.totalItemsCount}\r\n                    pageSize={this.props.pageSize}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    pageChanged={this.pageChanged}\r\n                    getUnfollow={this.props.getUnfollow}\r\n                    toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    getFollow={this.props.getFollow}\r\n                    portionSize={this.props.portionSize}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state),\r\n    }\r\n\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {\r\n        toggleFollowingInProgress,\r\n        requestUsers,\r\n        getFollow,\r\n        getUnfollow\r\n    }\r\n)(UsersContainer);","import React from \"react\";\r\nimport classes from \"./Header.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n    let defaultPhotoUrl = \"https://lumpics.ru/wp-content/uploads/2017/11/Programmyi-dlya-sozdaniya-avatarok.png\"\r\n\r\n\r\n    return (\r\n        <header className={classes.headerComponent}>\r\n            <img src=\"https://image.similarpng.com/very-thumbnail/2020/07/Whatsapp-logo-design-on-transparent-background-PNG.png\"/>\r\n            <div className={classes.login__container}>\r\n                {props.isAuth\r\n                    ? <div>\r\n                        <img className={classes.photo}\r\n                             src={defaultPhotoUrl}\r\n                             alt=\"\"/>\r\n                        <span>{props.loginName}</span>\r\n                        <button onClick={props.logout}>logout</button>\r\n                    </div>\r\n                    : <NavLink className={classes.login__link} to={`/login`}> Login\r\n                    </NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/reducers/auth-reducer\";\r\nimport {getProfile} from \"../../redux/reducers/profile-reducer\";\r\n\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    loginName: state.auth.login,\r\n    currentId: state.auth.id,\r\n\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    logout,\r\n    getProfile,\r\n}) (Header);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst setInitialized = () => ({type: SET_INITIALIZED});\r\n\r\nexport const initializeApp = () => {\r\n    return async (dispatch) => {\r\n        await dispatch(getAuthUserData())\r\n        dispatch(setInitialized())\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer","\r\nlet initialState = {\r\n    friends: [\r\n        {id: 1, name: \"Danil\"},\r\n        {id: 2, name: \"Artem\"},\r\n        {id: 3, name: \"Dima\"},\r\n        {id: 4, name: \"Igor\"},\r\n    ]\r\n};\r\n\r\n const sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\n export default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\r\nimport sidebarReducer from \"./reducers/sidebar-reducer\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\nimport authReducer from \"./reducers/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./reducers/app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store","import {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport React, {Suspense} from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => (props) => {\r\n    return (\r\n        <Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n        )\r\n}\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport \"./App.scss\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/reducers/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./components/hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')); //ленивая загрузка компоненты\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n           return <Preloader/>\r\n        }\r\n        return (\r\n\r\n            <div className=\"app-wrapper\">\r\n                <div className=\"app-container\">\r\n                    <HeaderContainer/>\r\n                    <Sidebar state={this.props.state.sidebar}/>\r\n                    <div className=\"app-wrapper-content\">\r\n                        <Route\r\n                            path=\"/login\"\r\n                            render={withSuspense(Login)}\r\n                        />\r\n                        <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}\r\n                        />\r\n                        <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}\r\n                        />\r\n                        <Route path=\"/Users\" render={() =>\r\n                            <UsersContainer/>\r\n                        }\r\n                        />\r\n                        <Route path=\"/news\" render={() => <News/>}/>\r\n                        <Route path=\"/music\" render={() => <Music/>}/>\r\n                        <Route path=\"/settings\" render={() => <Settings/>}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    connect(\r\n        mapStateToProps,\r\n        {initializeApp}\r\n    ),\r\n    withRouter\r\n)(App)\r\n\r\n\r\n let SamuraiJSApp = (props) => {\r\n   return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer\r\n                state={store.getState()}\r\n            />\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SamuraiJSApp","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'normalize.css';\r\nimport './reset.css'\r\nimport './index.scss';\r\nimport SamuraiJSApp from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport classes from \"./Preloader.module.scss\";\r\nimport preloader from \"./preloader.gif\";\r\n\r\n\r\nconst Preloader = (props) => {\r\n\r\n    return (\r\n        <div className={classes.preloaderComponent}>\r\n            <img className={classes.preloaderImg} src={preloader}/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","import {loginAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {\r\n        userId, email, login, isAuth\r\n    }\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let data = await loginAPI.me()\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data\r\n        dispatch(setAuthUserData(id, email, login, true)) // then всегда возвращает promise\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let data = await loginAPI.login(email, password, rememberMe)\r\n        if (data.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            let message = data.messages.length > 0 ? data.messages[0] : \"Some error\"\r\n            dispatch(stopSubmit(\"login\", {\r\n                _error: message,\r\n            }))\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let data = await loginAPI.logout()\r\n        if (data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerComponent\":\"Header_headerComponent__1Dr3W\",\"login__link\":\"Header_login__link__LRHtA\",\"photo\":\"Header_photo__3somd\"};","import {profileAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_USER_STATUS = 'SET_USER_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\n\r\nlet initialState = {\r\n    myPosts: [\r\n        {id: 1, message: \"Hi, how are you!\", likes: \"30\"},\r\n        {id: 2, message: \"it's my first post\", likes: \"20\"}\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPost,\r\n                likes: 0,\r\n            };\r\n\r\n            return { //если есть return, break можно не использовать\r\n                ...state,\r\n                myPosts: [newPost, ...state.myPosts],\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                myPosts: state.myPosts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const addPost = (newPost) => ({type: ADD_POST, newPost})\r\n\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n})\r\n\r\nexport const setUserStatus = (status) => ({\r\n    type: SET_USER_STATUS,\r\n    status\r\n})\r\n\r\nexport const removePost = (postId) => ({\r\n    type: DELETE_POST,\r\n    postId\r\n})\r\n\r\n\r\nexport const getProfile = (id) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getProfile(id)\r\n        dispatch(setUserProfile(data))\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (id) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getStatus(id)\r\n        dispatch(setUserStatus(data))\r\n    }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.updateStatus(status)\r\n        if (data.resultCode === 0) dispatch(setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsComponent\":\"Friends_friendsComponent__2AXFG\",\"friendsList\":\"Friends_friendsList__Vnsk6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersComponent\":\"Users_usersComponent__2txS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigationComponent\":\"Navigation_navigationComponent__2THYA\",\"item\":\"Navigation_item__3FC-u\",\"active\":\"Navigation_active__3l7vu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderComponent\":\"Preloader_preloaderComponent__3FZ8B\",\"preloaderImg\":\"Preloader_preloaderImg__2MWNV\"};","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Andrey\"},\r\n        {id: 2, name: \"Oleg\"},\r\n        {id: 3, name: \"Oxana\"},\r\n        {id: 4, name: \"Lisa\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hello\"},\r\n        {id: 2, message: \"How are you\"},\r\n        {id: 3, message: \"What is your health\"},\r\n    ],\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SEND_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id:6, message: action.message} /*аналогично stateCopy.messages.push(newMessage);*/],\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const onSendMessage = (message) => ({type: SEND_MESSAGE, message })\r\n\r\n\r\n\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarComponent\":\"Sidebar_sidebarComponent__39V5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsItemComponent\":\"FriendsItem_friendsItemComponent__1ux9u\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.33334fbe.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userComponent\":\"User_userComponent__2h-jU\",\"wrapper\":\"User_wrapper__1-5VF\",\"avatar\":\"User_avatar__JR9Bl\",\"button\":\"User_button__v9DX6\",\"img_wrap\":\"User_img_wrap__Q63_x\",\"desc\":\"User_desc__3tDgY\",\"fullName\":\"User_fullName__1dfpZ\",\"country\":\"User_country__1QKEg\",\"location__wrap\":\"User_location__wrap__1vRit\"};"],"sourceRoot":""}