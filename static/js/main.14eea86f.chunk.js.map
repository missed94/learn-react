{"version":3,"sources":["components/Users/User/User.module.scss","components/common/Pagination/Pagination.module.scss","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Navigation/Navigation.jsx","components/Friends/FriendsItem/FriendsItem.jsx","components/Friends/Friends.jsx","components/Sidebar/Sidebar.jsx","components/Users/User/User.jsx","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","utils/helpers/helpers.js","redux/reducers/users-reducer.js","redux/selectors/users-selector.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/reducers/app-reducer.js","redux/reducers/sidebar-reducer.js","redux/redux-store.js","components/hoc/withSuspense.js","App.js","index.js","components/common/Preloader/Preloader.jsx","redux/reducers/auth-reducer.js","components/Header/Header.module.scss","redux/reducers/profile-reducer.js","components/Friends/Friends.module.scss","components/Users/Users.module.scss","components/Navigation/Navigation.module.scss","components/common/Preloader/Preloader.module.scss","redux/reducers/dialogs-reducer.js","components/Sidebar/Sidebar.module.scss","components/Friends/FriendsItem/FriendsItem.module.scss","components/common/Preloader/preloader.gif","api/api.js"],"names":["module","exports","News","className","Music","Settings","Navigation","props","classes","navigationComponent","list","item","link","activeClassName","active","to","FriendsItem","friendsItemComponent","href","src","alt","friendName","Friends","friendsArray","state","map","friend","i","key","id","name","friendsComponent","friendsList","Sidebar","sidebarComponent","friends","User","getFollow","getUnfollow","followingInProgress","user","userComponent","wrapper","avatar","img_wrap","photos","small","followed","disabled","some","button","onClick","desc","nameStatus","fullName","status","status__text","location__wrap","country","city","Pagination","totalItemsCount","pageSize","pageChanged","currentPage","portionSize","pagesCount","Math","ceil","pageNumbers","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginationComponent","pagination","prev__button","pagination__list","filter","pageNumber","pagination__item","pagination__link_active","pagination__link","next__button","Users","usersArray","users","index","toggleFollowingInProgress","usersComponent","users__list","mappingArraysInObject","items","objPropName","actionPropName","newObjProps","initialState","isFetching","follow","userId","type","unfollow","toggleIsFetching","followUnfollowToggle","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","getUsers","usersPage","getPageSize","getTotalCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","this","Preloader","React","Component","connect","usersAPI","data","totalCount","followUnfollowAPI","bind","Header","headerComponent","login__container","isAuth","photo","loginName","logout","login__link","auth","login","currentId","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","Login","App","initializeApp","HeaderContainer","from","path","render","AppContainer","getAuthUserData","withRouter","SamuraiJSApp","getState","ReactDOM","document","getElementById","preloaderComponent","preloaderImg","preloader","email","setAuthUserData","loginAPI","me","password","rememberMe","message","messages","length","stopSubmit","_error","myPosts","likes","profile","addPost","newPost","setUserStatus","removePost","postId","savePhotoSuccess","getProfile","profileAPI","getUserStatus","getStatus","updateUserStatus","updateStatus","savePhoto","updatePhoto","p","dialogs","onSendMessage","instance","axios","withCredentials","baseURL","headers","get","then","response","post","delete","put","formData","FormData","append"],"mappings":"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","file":"static/js/main.14eea86f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userComponent\":\"User_userComponent__2h-jU\",\"wrapper\":\"User_wrapper__1-5VF\",\"avatar\":\"User_avatar__JR9Bl\",\"button\":\"User_button__v9DX6\",\"img_wrap\":\"User_img_wrap__Q63_x\",\"desc\":\"User_desc__3tDgY\",\"fullName\":\"User_fullName__1dfpZ\",\"country\":\"User_country__1QKEg\",\"location__wrap\":\"User_location__wrap__1vRit\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationComponent\":\"Pagination_paginationComponent__1mjIe\",\"pagination\":\"Pagination_pagination__19QCN\",\"pagination__list\":\"Pagination_pagination__list__2nnpm\",\"pagination__link\":\"Pagination_pagination__link__3SKco\",\"pagination__link_active\":\"Pagination_pagination__link_active__2ikgH\"};","import React from \"react\";\r\nimport classes from \"./News.module.scss\";\r\n\r\n\r\n\r\nconst News = () => {\r\n    return (\r\n        <div className=\"newsComponent\">\r\n            News\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import React from \"react\";\r\nimport classes from \"./Music.module.scss\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className=\"musicComponent\">\r\n            Music\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Music;","import React from \"react\";\r\nimport classes from \"./Settings.module.scss\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport classes from\"./Navigation.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navigation = (props) => {\r\n  return (\r\n    <nav className={classes.navigationComponent}>\r\n      <ul className={classes.list}>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to={`/profile/`}>Profile</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/dialogs\">Messages</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/users\">Users</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/news\">News</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/music\">Music</NavLink>\r\n        </li>\r\n        <li className={classes.item}>\r\n          <NavLink className={classes.link} activeClassName={classes.active} to=\"/settings\">Settings</NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation","import React from \"react\";\r\nimport classes from\"./FriendsItem.module.scss\"\r\n\r\n\r\n\r\n\r\nconst FriendsItem = (props) => {\r\n    return (\r\n        <li className={classes.friendsItemComponent}>\r\n            <a href=\"\">\r\n                <img src=\"https://lumpics.ru/wp-content/uploads/2017/11/Programmyi-dlya-sozdaniya-avatarok.png\" alt=\"\"/>\r\n                <p>{props.friendName}</p>\r\n            </a>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default FriendsItem","import React from \"react\";\r\nimport classes from\"./Friends.module.scss\"\r\nimport FriendsItem from \"./FriendsItem/FriendsItem\";\r\n\r\n\r\n\r\n\r\nconst Friends = (props) => {\r\n    const friendsArray = props.state.map((friend, i) => {\r\n        return (<FriendsItem key={i} id={friend.id} friendName={friend.name}/>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className={classes.friendsComponent}>\r\n            <h3>Friends</h3>\r\n            <ul className={classes.friendsList}>\r\n                {friendsArray}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Friends","import React from \"react\";\r\nimport classes from\"./Sidebar.module.scss\"\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport Friends from \"../Friends/Friends\";\r\n\r\nconst Sidebar = (props) => {\r\n    return (\r\n        <div className={classes.sidebarComponent}>\r\n            <Navigation/>\r\n            <Friends state={props.state.friends}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Sidebar","import React from \"react\";\r\nimport classes from \"./User.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst User = ({getFollow, getUnfollow, followingInProgress, user, ...props}) => {\r\n\r\n\r\n    let onFollow = () => {\r\n        getFollow(user.id)\r\n    }\r\n    let onUnfollow = () => {\r\n        getUnfollow(user.id)\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <li className={classes.userComponent}>\r\n            <div className={classes.wrapper}>\r\n                <div className={classes.avatar}>\r\n                    <div className={classes.img_wrap}>\r\n\r\n                        <NavLink to={`/profile/${user.id}`}>\r\n                            <img src={user.photos.small !== null\r\n                                ? user.photos.small\r\n                                : \"https://lumpics.ru/wp-content/uploads/2017/11/Programmyi-dlya-sozdaniya-avatarok.png\"}\r\n                                 alt=\"user\"\r\n                            />\r\n                        </NavLink>\r\n\r\n                    </div>\r\n                    {user.followed\r\n                        ? <button\r\n                            disabled={followingInProgress.some(id => id === user.id)} //если хоть одна id из массива равна id пользлвателя при нажатии то ее и disabl'и\r\n                            className={classes.button} onClick={onUnfollow}> unfollow </button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                  className={classes.button} onClick={onFollow}> follow </button>\r\n                    }\r\n\r\n                </div>\r\n                <div className={classes.desc}>\r\n                    <div className={classes.nameStatus}>\r\n                        <h4 className={classes.fullName}>\r\n                            Name: <div>{` ${user.name}`}</div>\r\n                        </h4>\r\n                        <div className={classes.status}>\r\n                            Status: <div className={classes.status__text}>{` ${user.status}`}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.location__wrap}>\r\n                        <div className={classes.country}>\r\n                            Country:{/*{` ${props.user.location.country}`}*/}\r\n                        </div>\r\n                        <div className={classes.city}>\r\n                            City:{/*{` ${props.user.location.city}`}*/}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default User","import React, {useState} from \"react\";\r\nimport classes from \"./Pagination.module.scss\"\r\n\r\n\r\nconst Pagination = ({totalItemsCount, pageSize, pageChanged, currentPage, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pageNumbers = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n    return (\r\n\r\n        <div className={classes.paginationComponent}>\r\n            <div className={classes.pagination}>\r\n                {\r\n                    portionNumber > 1 && <button className={`${classes.button} ${classes.prev__button}`} onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>\r\n                }\r\n\r\n                <ul className={classes.pagination__list}>\r\n                    {pageNumbers\r\n                        .filter(pageNumber => pageNumber >= leftPortionPageNumber && pageNumber <= rightPortionPageNumber)\r\n                        .map((pageNumber) => {\r\n                            return (\r\n                                <li className={classes.pagination__item}>\r\n                                    <a onClick={() => {\r\n                                        pageChanged(pageNumber)\r\n                                    }}\r\n                                       className={\r\n                                           currentPage === pageNumber\r\n                                               ? classes.pagination__link_active\r\n                                               : classes.pagination__link}>\r\n                                        {pageNumber}\r\n                                    </a>\r\n                                </li>\r\n                            )\r\n                        })}\r\n\r\n                </ul>\r\n\r\n                {\r\n                    portionNumber <  portionCount && <button className={`${classes.button} ${classes.next__button}`} onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport User from \"./User/User\";\r\nimport classes from \"./Users.module.scss\"\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\n\r\n\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n    let usersArray = props.users.map((user, index) => {\r\n        return (\r\n            <User\r\n                key={user.id}\r\n                user={user}\r\n                getFollow={props.getFollow}\r\n                getUnfollow={props.getUnfollow}\r\n                toggleFollowingInProgress={props.toggleFollowingInProgress}\r\n                followingInProgress={props.followingInProgress}\r\n            />\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className={classes.usersComponent}>\r\n            <Pagination\r\n                totalItemsCount={props.totalItemsCount}\r\n                pageSize={props.pageSize}\r\n                pageChanged={props.pageChanged}\r\n                currentPage={props.currentPage}\r\n                portionSize={props.portionSize}\r\n            />\r\n            <ul className={classes.users__list}>\r\n                {usersArray}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","export const mappingArraysInObject = (items, objPropName, actionPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === actionPropName) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item\r\n    })\r\n}","import {followUnfollowAPI, usersAPI} from \"../../api/api\";\r\nimport {mappingArraysInObject} from \"../../utils/helpers/helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'FOLLOWING_IN_PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    portionSize: 10,\r\n    pageSize: 30,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: mappingArraysInObject( // смотри helpers.js\r\n                    state.users,\r\n                    'id',\r\n                    action.userId,\r\n                    {followed: true}\r\n                )\r\n            }\r\n        }\r\n\r\n        case\r\n        UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: mappingArraysInObject(\r\n                    state.users,\r\n                    'id',\r\n                    action.userId,\r\n                    {followed: false}\r\n                )\r\n            }\r\n        }\r\n\r\n        case\r\n        SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n\r\n        case\r\n        SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        }\r\n\r\n        case\r\n        SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalItemsCount: action.totalItemsCount\r\n            }\r\n        }\r\n\r\n        case\r\n        TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n\r\n        case\r\n        TOGGLE_IS_FOLLOWING_PROGRESS: { //блокировка кнопки при нажатии follow/unfollow\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching // если isFetching === true\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [state.followingInProgress.filter(id => id !== action.userId)] //filter уже вернет новый массив..добавляем только те id которая не равны id из action'а\r\n            }\r\n        }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const follow = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollow = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber});\r\nexport const setTotalUsersCount = (totalItemsCount) => ({type: SET_TOTAL_USERS_COUNT, totalItemsCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleIsFetching(true));//circle of loading on\r\n        dispatch(setCurrentPage(currentPage))\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(toggleIsFetching(false)); //circle of loading off\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowToggle = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingInProgress(true, userId)) //disabled button\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId)) //enabled button\r\n}\r\n\r\nexport const getFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowToggle(dispatch, userId, followUnfollowAPI.getFollow.bind(followUnfollowAPI), follow)\r\n    }\r\n}\r\n\r\nexport const getUnfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowToggle(dispatch, userId, followUnfollowAPI.getUnfollow.bind(followUnfollowAPI), unfollow)\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalCount = (state) => {\r\n    return state.usersPage.totalItemsCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const getPortionSize = (state) => {\r\n    return state.usersPage.portionSize\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    toggleFollowingInProgress,\r\n     getFollow, getUnfollow, requestUsers\r\n} from \"../../redux/reducers/users-reducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize, getTotalCount, getUsers,\r\n} from \"../../redux/selectors/users-selector\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() { //жизненный цикл, встроенный объект\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n\r\n    pageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching\r\n                    ? <Preloader/>\r\n                    : null}\r\n                <Users\r\n                    totalItemsCount={this.props.totalItemsCount}\r\n                    pageSize={this.props.pageSize}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    pageChanged={this.pageChanged}\r\n                    getUnfollow={this.props.getUnfollow}\r\n                    toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    getFollow={this.props.getFollow}\r\n                    portionSize={this.props.portionSize}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state),\r\n    }\r\n\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {\r\n        toggleFollowingInProgress,\r\n        requestUsers,\r\n        getFollow,\r\n        getUnfollow\r\n    }\r\n)(UsersContainer);","import React from \"react\";\r\nimport classes from \"./Header.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n    let defaultPhotoUrl = \"https://lumpics.ru/wp-content/uploads/2017/11/Programmyi-dlya-sozdaniya-avatarok.png\"\r\n\r\n\r\n    return (\r\n        <header className={classes.headerComponent}>\r\n            <img src=\"https://image.similarpng.com/very-thumbnail/2020/07/Whatsapp-logo-design-on-transparent-background-PNG.png\"/>\r\n            <div className={classes.login__container}>\r\n                {props.isAuth\r\n                    ? <div>\r\n                        <img className={classes.photo}\r\n                             src={defaultPhotoUrl}\r\n                             alt=\"\"/>\r\n                        <span>{props.loginName}</span>\r\n                        <button onClick={props.logout}>logout</button>\r\n                    </div>\r\n                    : <NavLink className={classes.login__link} to={`/login`}> Login\r\n                    </NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/reducers/auth-reducer\";\r\nimport {getProfile} from \"../../redux/reducers/profile-reducer\";\r\n\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    loginName: state.auth.login,\r\n    currentId: state.auth.id,\r\n\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    logout,\r\n}) (Header);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst setInitialized = () => ({type: SET_INITIALIZED});\r\n\r\nexport const initializeApp = () => {\r\n    return async (dispatch) => {\r\n        await dispatch(getAuthUserData())\r\n        dispatch(setInitialized())\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer","\r\nlet initialState = {\r\n    friends: [\r\n        {id: 1, name: \"Danil\"},\r\n        {id: 2, name: \"Artem\"},\r\n        {id: 3, name: \"Dima\"},\r\n        {id: 4, name: \"Igor\"},\r\n    ]\r\n};\r\n\r\n const sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\n export default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\r\nimport sidebarReducer from \"./reducers/sidebar-reducer\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\nimport authReducer from \"./reducers/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./reducers/app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store","import {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport React, {Suspense} from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => (props) => {\r\n    return (\r\n        <Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n        )\r\n}\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport \"./App.scss\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/reducers/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./components/hoc/withSuspense\";\r\n\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')); //ленивая загрузка компоненты\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n           return <Preloader/>\r\n        }\r\n        return (\r\n\r\n            <div className=\"app-wrapper\">\r\n                <div className=\"app-container\">\r\n                    <HeaderContainer/>\r\n                    <Sidebar state={this.props.state.sidebar}/>\r\n                    <div className=\"app-wrapper-content\">\r\n                            <Redirect from=\"/\" to=\"/profile\" />\r\n\r\n                            <Route\r\n                                path=\"/login\"\r\n                                render={withSuspense(Login)}\r\n                            />\r\n                            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}\r\n                            />\r\n                            <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}\r\n                            />\r\n                            <Route path=\"/Users\" render={() =>\r\n                                <UsersContainer/>\r\n                            }\r\n                            />\r\n                            <Route path=\"/news\" render={() => <News/>}/>\r\n                            <Route path=\"/music\" render={() => <Music/>}/>\r\n                            <Route path=\"/settings\" render={() => <Settings/>}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    connect(\r\n        mapStateToProps,\r\n        {initializeApp}\r\n    ),\r\n    withRouter\r\n)(App)\r\n\r\n\r\n let SamuraiJSApp = (props) => {\r\n   return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer\r\n                state={store.getState()}\r\n            />\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SamuraiJSApp","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'normalize.css';\r\nimport './reset.css'\r\nimport './index.scss';\r\nimport SamuraiJSApp from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport classes from \"./Preloader.module.scss\";\r\nimport preloader from \"./preloader.gif\";\r\n\r\n\r\nconst Preloader = (props) => {\r\n\r\n    return (\r\n        <div className={classes.preloaderComponent}>\r\n            <img className={classes.preloaderImg} src={preloader}/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","import {loginAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {\r\n        userId, email, login, isAuth\r\n    }\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let data = await loginAPI.me()\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data\r\n        dispatch(setAuthUserData(id, email, login, true)) // then всегда возвращает promise\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let data = await loginAPI.login(email, password, rememberMe)\r\n        if (data.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            let message = data.messages.length > 0 ? data.messages[0] : \"Some error\"\r\n            dispatch(stopSubmit(\"login\", {\r\n                _error: message,\r\n            }))\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let data = await loginAPI.logout()\r\n        if (data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerComponent\":\"Header_headerComponent__1Dr3W\",\"login__link\":\"Header_login__link__LRHtA\",\"photo\":\"Header_photo__3somd\"};","import {profileAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_USER_STATUS = 'SET_USER_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO = 'SAVE_PHOTO'\r\n\r\nlet initialState = {\r\n    myPosts: [\r\n        {id: 1, message: \"Hi, how are you!\", likes: \"30\"},\r\n        {id: 2, message: \"it's my first post\", likes: \"20\"}\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPost,\r\n                likes: 0,\r\n            };\r\n\r\n            return { //если есть return, break можно не использовать\r\n                ...state,\r\n                myPosts: [newPost, ...state.myPosts],\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                myPosts: state.myPosts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case SAVE_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (newPost) => ({type: ADD_POST, newPost})\r\n\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n})\r\n\r\nexport const setUserStatus = (status) => ({\r\n    type: SET_USER_STATUS,\r\n    status\r\n})\r\n\r\nexport const removePost = (postId) => ({\r\n    type: DELETE_POST,\r\n    postId\r\n})\r\n\r\nexport const savePhotoSuccess = (photos) => ({\r\n    type: SAVE_PHOTO,\r\n    photos\r\n})\r\n\r\n\r\nexport const getProfile = (id) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getProfile(id)\r\n        dispatch(setUserProfile(data))\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (id) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getStatus(id)\r\n        dispatch(setUserStatus(data))\r\n    }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.updateStatus(status)\r\n        if (data.resultCode === 0) dispatch(setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photos) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.updatePhoto(photos)\r\n        if (data.resultCode === 0) dispatch(savePhotoSuccess(data.data.photos))\r\n    }\r\n}\r\n\r\nexport default profileReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsComponent\":\"Friends_friendsComponent__2AXFG\",\"friendsList\":\"Friends_friendsList__Vnsk6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersComponent\":\"Users_usersComponent__2txS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigationComponent\":\"Navigation_navigationComponent__2THYA\",\"item\":\"Navigation_item__3FC-u\",\"active\":\"Navigation_active__3l7vu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderComponent\":\"Preloader_preloaderComponent__3FZ8B\",\"preloaderImg\":\"Preloader_preloaderImg__2MWNV\"};","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Andrey\"},\r\n        {id: 2, name: \"Oleg\"},\r\n        {id: 3, name: \"Oxana\"},\r\n        {id: 4, name: \"Lisa\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hello\"},\r\n        {id: 2, message: \"How are you\"},\r\n        {id: 3, message: \"What is your health\"},\r\n    ],\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SEND_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id:6, message: action.message} /*аналогично stateCopy.messages.push(newMessage);*/],\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const onSendMessage = (message) => ({type: SEND_MESSAGE, message })\r\n\r\n\r\n\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarComponent\":\"Sidebar_sidebarComponent__39V5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsItemComponent\":\"FriendsItem_friendsItemComponent__1ux9u\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.33334fbe.gif\";","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"api-key\": \"201d1bd9-901a-4727-afb5-9d1c77d38b75\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    }\r\n}\r\n\r\nexport const followUnfollowAPI = {\r\n    getFollow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    getUnfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(id) {\r\n        return instance.get(`profile/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    getStatus(id) {\r\n        return instance.get(`profile/status/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    updatePhoto(photo) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photo)\r\n        return instance.put(`profile/photo/`, formData)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const loginAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\n"],"sourceRoot":""}